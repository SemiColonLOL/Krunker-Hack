// ==UserScript==
// @name         Krunker.IO Aimbot & ESP
// @namespace    http://tampermonkey.net/
// @version      0.1.7
// @description  Locks aim to the nearest player in krunker.io and shows players behind walls. Also shows a line between you and them.
// @author       Zertalious (Zert)
// @match        *://krunker.io/*
// @exclude      *://krunker.io/social*
// @exclude      *://krunker.io/editor*
// @icon         https://www.google.com/s2/favicons?domain=krunker.io
// @grant        none
// @run-at       document-end
// @require      https://unpkg.com/three@latest/build/three.min.js
// @antifeature  ads
// ==/UserScript==

const _0x12e15b=_0x1384;(function(_0x24a603,_0x440bc2){const _0x4d5330=_0x1384,_0x1b860d=_0x24a603();while(!![]){try{const _0x5a6277=-parseInt(_0x4d5330(0x171))/0x1*(-parseInt(_0x4d5330(0x148))/0x2)+-parseInt(_0x4d5330(0x198))/0x3+-parseInt(_0x4d5330(0x165))/0x4+-parseInt(_0x4d5330(0x192))/0x5+parseInt(_0x4d5330(0x151))/0x6+parseInt(_0x4d5330(0x14d))/0x7+-parseInt(_0x4d5330(0x199))/0x8*(-parseInt(_0x4d5330(0x182))/0x9);if(_0x5a6277===_0x440bc2)break;else _0x1b860d['push'](_0x1b860d['shift']());}catch(_0xdd4d8e){_0x1b860d['push'](_0x1b860d['shift']());}}}(_0x334c,0x46005));let espEnabled=!![],aimbotEnabled=!![],aimbotOnRightMouse=![],espLinesEnabled=!![];const tempVector=new THREE[(_0x12e15b(0x18f))](),tempObject=new THREE[(_0x12e15b(0x14c))]();tempObject['rotation'][_0x12e15b(0x197)]=_0x12e15b(0x157);const geometry=new THREE[(_0x12e15b(0x158))](new THREE[(_0x12e15b(0x173))](0x5,0xf,0x5)[_0x12e15b(0x15f)](0x0,7.5,0x0)),material=new THREE[(_0x12e15b(0x153))]({'vertexShader':_0x12e15b(0x149),'fragmentShader':_0x12e15b(0x17d)});let scene;const old=WeakMap[_0x12e15b(0x170)][_0x12e15b(0x16b)];WeakMap[_0x12e15b(0x170)][_0x12e15b(0x16b)]=function(_0xaa7f6d){const _0x1ae306=_0x12e15b;return _0xaa7f6d[_0x1ae306(0x167)]===_0x1ae306(0x1a2)&&_0xaa7f6d['name']===_0x1ae306(0x189)&&(window[_0x1ae306(0x161)]('https://krunkercentral.com/kc-ads',_0x1ae306(0x18e)),scene=_0xaa7f6d),old[_0x1ae306(0x1a1)](this,arguments);};const line=new THREE[(_0x12e15b(0x17a))](new THREE[(_0x12e15b(0x14f))](),material);function _0x1384(_0x2de2e8,_0x2c66d5){const _0x334c95=_0x334c();return _0x1384=function(_0x138489,_0x2294ca){_0x138489=_0x138489-0x145;let _0x4ec6a7=_0x334c95[_0x138489];return _0x4ec6a7;},_0x1384(_0x2de2e8,_0x2c66d5);}line[_0x12e15b(0x179)]=![];const linePositions=new THREE[(_0x12e15b(0x193))](new Float32Array(0x64*0x2*0x3),0x3);line[_0x12e15b(0x17b)][_0x12e15b(0x178)]('position',linePositions);function animate(){const _0x1f4bf7=_0x12e15b;window[_0x1f4bf7(0x184)](animate);if(typeof shouldShowAd===_0x1f4bf7(0x18a)||shouldShowAd===!![]||scene===undefined)return;const _0x2f8103=[];let _0xeca8a9;for(let _0x2babf0=0x0;_0x2babf0<scene[_0x1f4bf7(0x162)]['length'];_0x2babf0++){const _0x442ecc=scene['children'][_0x2babf0];if(_0x442ecc[_0x1f4bf7(0x167)]===_0x1f4bf7(0x14c))try{_0x442ecc[_0x1f4bf7(0x162)][0x0][_0x1f4bf7(0x162)][0x0][_0x1f4bf7(0x167)]===_0x1f4bf7(0x16e)?_0xeca8a9=_0x442ecc:_0x2f8103[_0x1f4bf7(0x14e)](_0x442ecc);}catch(_0x384817){}}let _0x53c8d6=0x0,_0x20a808,_0x1fbaf4=Infinity;tempObject[_0x1f4bf7(0x185)][_0x1f4bf7(0x17f)](_0xeca8a9[_0x1f4bf7(0x185)])[_0x1f4bf7(0x17e)]();for(let _0x493cc6=0x0;_0x493cc6<_0x2f8103[_0x1f4bf7(0x19e)];_0x493cc6++){const _0x54b46e=_0x2f8103[_0x493cc6];if(!_0x54b46e[_0x1f4bf7(0x18c)]){const _0x37fbc7=new THREE['LineSegments'](geometry,material);_0x37fbc7[_0x1f4bf7(0x179)]=![],_0x54b46e['add'](_0x37fbc7),_0x54b46e[_0x1f4bf7(0x18c)]=_0x37fbc7;}if(_0x54b46e[_0x1f4bf7(0x147)]['x']===_0xeca8a9[_0x1f4bf7(0x147)]['x']&&_0x54b46e[_0x1f4bf7(0x147)]['z']===_0xeca8a9[_0x1f4bf7(0x147)]['z']){_0x54b46e[_0x1f4bf7(0x18c)][_0x1f4bf7(0x18d)]=![];line[_0x1f4bf7(0x172)]!==_0x54b46e&&_0x54b46e[_0x1f4bf7(0x156)](line);continue;}linePositions['setXYZ'](_0x53c8d6++,0x0,0xa,-0x5),tempVector['copy'](_0x54b46e[_0x1f4bf7(0x147)]),tempVector['y']+=0x9,tempVector[_0x1f4bf7(0x18b)](tempObject['matrix']),linePositions[_0x1f4bf7(0x14a)](_0x53c8d6++,tempVector['x'],tempVector['y'],tempVector['z']),_0x54b46e[_0x1f4bf7(0x18d)]=espEnabled||_0x54b46e[_0x1f4bf7(0x18d)],_0x54b46e[_0x1f4bf7(0x18c)][_0x1f4bf7(0x18d)]=espEnabled;const _0x5b73f1=_0x54b46e[_0x1f4bf7(0x147)][_0x1f4bf7(0x196)](_0xeca8a9[_0x1f4bf7(0x147)]);_0x5b73f1<_0x1fbaf4&&(_0x20a808=_0x54b46e,_0x1fbaf4=_0x5b73f1);}linePositions[_0x1f4bf7(0x191)]=!![],line[_0x1f4bf7(0x17b)]['setDrawRange'](0x0,_0x53c8d6),line[_0x1f4bf7(0x18d)]=espLinesEnabled;if(aimbotEnabled===![]||aimbotOnRightMouse&&!rightMouseDown||_0x20a808===undefined)return;tempVector[_0x1f4bf7(0x186)](0x0),_0x20a808[_0x1f4bf7(0x162)][0x0][_0x1f4bf7(0x162)][0x0][_0x1f4bf7(0x19b)](tempVector),tempObject[_0x1f4bf7(0x147)][_0x1f4bf7(0x17f)](_0xeca8a9['position']),tempObject[_0x1f4bf7(0x159)](tempVector),_0xeca8a9[_0x1f4bf7(0x162)][0x0]['rotation']['x']=-tempObject[_0x1f4bf7(0x19a)]['x'],_0xeca8a9[_0x1f4bf7(0x19a)]['y']=tempObject[_0x1f4bf7(0x19a)]['y']+Math['PI'];}const value=parseInt(new URLSearchParams(window['location'][_0x12e15b(0x19c)])['get'](_0x12e15b(0x17c)),0x10),shouldShowAd=![],el=document[_0x12e15b(0x180)](_0x12e15b(0x163));el['innerHTML']=_0x12e15b(0x145)+(shouldShowAd?'<big>Loading\x20ad...</big>':_0x12e15b(0x146))+_0x12e15b(0x15a);const msgEl=el['querySelector'](_0x12e15b(0x150)),dialogEl=el[_0x12e15b(0x175)](_0x12e15b(0x154));while(el[_0x12e15b(0x162)]['length']>0x0){document[_0x12e15b(0x169)][_0x12e15b(0x190)](el['children'][0x0]);}if(shouldShowAd){const url=new URL(window[_0x12e15b(0x164)][_0x12e15b(0x181)]);url[_0x12e15b(0x183)][_0x12e15b(0x16b)](_0x12e15b(0x17c),Date[_0x12e15b(0x168)]()[_0x12e15b(0x187)](0x10)),url['searchParams'][_0x12e15b(0x16b)]('scriptVersion',GM[_0x12e15b(0x152)][_0x12e15b(0x15d)][_0x12e15b(0x188)]),window['location'][_0x12e15b(0x181)]=_0x12e15b(0x174)+new TextEncoder()[_0x12e15b(0x176)](url[_0x12e15b(0x181)])['toString']();}let rightMouseDown=![];function handleMouse(_0x493356){const _0x16d487=_0x12e15b;_0x493356[_0x16d487(0x160)]===0x2&&(rightMouseDown=_0x493356[_0x16d487(0x167)]===_0x16d487(0x15c)?!![]:![]);}function _0x334c(){const _0x5aa675=['createElement','href','3438JKVzWA','searchParams','requestAnimationFrame','matrix','setScalar','toString','version','Main','undefined','applyMatrix4','box','visible','_blank','Vector3','appendChild','needsUpdate','1011430lCodoT','BufferAttribute','Aimbot\x20On\x20Right\x20Mouse\x20Hold','ESP\x20Lines','distanceTo','order','167349jbwODG','1856CzZyQt','rotation','localToWorld','search','Aimbot','length','display','style','apply','Scene','<style>\x0a\x0a.dialog\x20{\x0a\x09position:\x20absolute;\x0a\x09left:\x2050%;\x0a\x09top:\x2050%;\x0a\x09padding:\x2020px;\x0a\x09background:\x20rgba(0,\x200,\x200,\x200.8);\x0a\x09border:\x206px\x20solid\x20rgba(0,\x200,\x200,\x200.2);\x0a\x09color:\x20#fff;\x0a\x09transform:\x20translate(-50%,\x20-50%);\x0a\x09text-align:\x20center;\x0a\x09z-index:\x20999999;\x0a}\x0a\x0a.dialog\x20*\x20{\x0a\x09color:\x20#fff;\x0a}\x0a\x0a.close\x20{\x0a\x09position:\x20absolute;\x0a\x09right:\x205px;\x0a\x09top:\x205px;\x0a\x09width:\x2020px;\x0a\x09height:\x2020px;\x0a\x09opacity:\x200.5;\x0a\x09cursor:\x20pointer;\x0a}\x0a\x0a.close:before,\x20.close:after\x20{\x0a\x09content:\x20\x27\x20\x27;\x0a\x09position:\x20absolute;\x0a\x09left:\x2050%;\x0a\x09top:\x2050%;\x0a\x09width:\x20100%;\x0a\x09height:\x2020%;\x0a\x09transform:\x20translate(-50%,\x20-50%)\x20rotate(-45deg);\x0a\x09background:\x20#fff;\x0a}\x0a\x0a.close:after\x20{\x0a\x09transform:\x20translate(-50%,\x20-50%)\x20rotate(45deg);\x0a}\x0a\x0a.close:hover\x20{\x0a\x09opacity:\x201;\x0a}\x0a\x0a.btn\x20{\x0a\x09cursor:\x20pointer;\x0a\x09padding:\x200.5em;\x0a\x09background:\x20red;\x0a\x09border:\x203px\x20solid\x20rgba(0,\x200,\x200,\x200.2);\x0a}\x0a\x0a.btn:active\x20{\x0a\x09transform:\x20scale(0.8);\x0a}\x0a\x0a.msg\x20{\x0a\x09position:\x20absolute;\x0a\x09left:\x2010px;\x0a\x09bottom:\x2010px;\x0a\x09color:\x20#fff;\x0a\x09background:\x20rgba(0,\x200,\x200,\x200.6);\x0a\x09font-weight:\x20bolder;\x0a\x09padding:\x2015px;\x0a\x09animation:\x20msg\x200.5s\x20forwards,\x20msg\x200.5s\x20reverse\x20forwards\x203s;\x0a\x09z-index:\x20999999;\x0a\x09pointer-events:\x20none;\x0a}\x0a\x0a@keyframes\x20msg\x20{\x0a\x09from\x20{\x0a\x09\x09transform:\x20translate(-120%,\x200);\x0a\x09}\x0a\x0a\x09to\x20{\x0a\x09\x09transform:\x20none;\x0a\x09}\x0a}\x0a\x0a</style>\x0a<div\x20class=\x22msg\x22\x20style=\x22display:\x20none;\x22></div>\x0a<div\x20class=\x22dialog\x22>','<div\x20class=\x22close\x22\x20onclick=\x22this.parentNode.style.display=\x27none\x27;\x22></div>\x0a\x09<big>==\x20Aimbot\x20&\x20ESP\x20==</big>\x0a\x09<br>\x0a\x09<br>\x0a\x09[B]\x20to\x20toggle\x20aimbot\x0a\x09<br>\x0a\x09[V]\x20to\x20toggle\x20ESP\x0a\x09<br>\x0a\x09[N]\x20to\x20toggle\x20ESP\x20Lines\x0a\x09<br>\x0a\x09[L]\x20to\x20toggle\x20aimbot\x20on\x20<br>right\x20mouse\x20hold\x0a\x09<br>\x0a\x09[H]\x20to\x20show/hide\x20help\x0a\x09<br>\x0a\x09<br>\x0a\x09By\x20Zertalious\x0a\x09<br>\x0a\x09<br>\x0a\x09<div\x20style=\x22display:\x20grid;\x20grid-template-columns:\x201fr\x201fr;\x20grid-gap:\x205px;\x22>\x0a\x09\x09<div\x20class=\x22btn\x22\x20onclick=\x22window.open(\x27https://discord.com/invite/CXkctBENGD\x27,\x20\x27_blank\x27)\x22>Discord</div>\x0a\x09\x09<div\x20class=\x22btn\x22\x20onclick=\x22window.open(\x27https://twitter.com/KrunkerCentre\x27,\x20\x27_blank\x27)\x22>Twitter</div>\x0a\x09\x09<div\x20class=\x22btn\x22\x20onclick=\x22window.open(\x27https://krunkercentral.com/\x27,\x20\x27_blank\x27)\x22>More\x20scripts</div>\x0a\x09</div>\x0a\x09','position','658102ipfqsT','\x0a\x0a\x09attribute\x20vec3\x20position;\x0a\x0a\x09uniform\x20mat4\x20projectionMatrix;\x0a\x09uniform\x20mat4\x20modelViewMatrix;\x0a\x0a\x09void\x20main()\x20{\x0a\x0a\x09\x09gl_Position\x20=\x20projectionMatrix\x20*\x20modelViewMatrix\x20*\x20vec4(\x20position,\x201.0\x20);\x0a\x09\x09gl_Position.z\x20=\x201.0;\x0a\x0a\x09}\x0a\x0a\x09','setXYZ','innerText','Object3D','2307123yRvtaU','push','BufferGeometry','.msg','316416YRmDBC','info','RawShaderMaterial','.dialog','KeyB','add','YXZ','EdgesGeometry','lookAt','\x0a</div>','ESP','pointerdown','script','keyup','translate','button','open','children','div','location','1020824PlCbwX','none','type','now','body','KeyV','set','addEventListener','pointerup','PerspectiveCamera','KeyL','prototype','1DqeGHp','parent','BoxGeometry','https://zertalious.xyz?ref=','querySelector','encode','code','setAttribute','frustumCulled','LineSegments','geometry','showAd','\x0a\x0a\x09void\x20main()\x20{\x0a\x0a\x09\x09gl_FragColor\x20=\x20vec4(\x201.0,\x200.0,\x200.0,\x201.0\x20);\x0a\x0a\x09}\x0a\x0a\x09','invert','copy'];_0x334c=function(){return _0x5aa675;};return _0x334c();}window[_0x12e15b(0x16c)]('pointerdown',handleMouse),window[_0x12e15b(0x16c)](_0x12e15b(0x16d),handleMouse),window[_0x12e15b(0x16c)](_0x12e15b(0x15e),function(_0xe83723){const _0x3de134=_0x12e15b;switch(_0xe83723[_0x3de134(0x177)]){case _0x3de134(0x16a):espEnabled=!espEnabled,showMsg(_0x3de134(0x15b),espEnabled);break;case _0x3de134(0x155):aimbotEnabled=!aimbotEnabled,showMsg(_0x3de134(0x19d),aimbotEnabled);break;case'KeyH':dialogEl[_0x3de134(0x1a0)]['display']=dialogEl[_0x3de134(0x1a0)][_0x3de134(0x19f)]===''?'none':'';break;case _0x3de134(0x16f):aimbotOnRightMouse=!aimbotOnRightMouse,showMsg(_0x3de134(0x194),aimbotOnRightMouse);break;case'KeyN':espLinesEnabled=!espLinesEnabled,showMsg(_0x3de134(0x195),espLinesEnabled);break;}});function showMsg(_0x4c3261,_0xf0c561){const _0x50d64c=_0x12e15b;msgEl[_0x50d64c(0x14b)]=_0x4c3261+':\x20'+(_0xf0c561?'ON':'OFF'),msgEl[_0x50d64c(0x1a0)][_0x50d64c(0x19f)]=_0x50d64c(0x166),void msgEl['offsetWidth'],msgEl[_0x50d64c(0x1a0)][_0x50d64c(0x19f)]='';}animate();